{% extends "gcc/base.html" %}
{% load static %}
{% load i18n %}

{% block title %}{% trans 'Past Editions' %}{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'gcc/css/editions.css' %}" />
{% endblock %}

{% block content %}
<div id="edition-history" class="container">
    {% for edition in editions %}
    <div class="row">
        <div class="col-sm-2 edition-header">
            <h1>{{ edition.year }}</h1>
            {% firstof edition.poster_url "poster_not_found" as poster %}
            <a href="{{ poster }}">
                <img src="{{ poster }}" alt="affiche GCC {{ edition.year }}"/>
            </a>
        </div>
        <div class="col-sm-10 edition-description">
            <p>
            {% trans edition.long_description|safe %}
            </p>
            <!-- Carousel -->
            <div id="carousel-{{ edition.year }}" class="carousel slide" data-ride="carousel">
                <ol class="carousel-indicators">
                    {% for image in edition.get_all_images %}
                        <li data-target="#carousel-{{ edition.year }}" data-slide-to="{{ forloop.counter0 }}"{% if forloop.first %} class="active"{% endif %}></li>
                    {% endfor %}
                </ol>
                <div class="carousel-inner">
                    {% for image in edition.get_all_images %}
                        <div class="item{% if forloop.first %} active{% endif %}">
                            <img class="d-block" src="{{ image }}">
                        </div>
                    {% endfor %}
                </div>
                <a href="#carousel-{{ edition.year }}" class="left carousel-control" data-slide="prev">
                    <span class="icon-prev"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a href="#carousel-{{ edition.year }}" class="right carousel-control" data-slide="next">
                    <span class="icon-next" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
            <!-- Carousel -->
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}
